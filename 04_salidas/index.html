<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>04 salidas - Arduino</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "04 salidas";
    var mkdocs_page_input_path = "04_salidas.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Arduino</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../01_que_es_arduino/">1. ¿Qué es Arduino?</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../02_ide_arduino/">2. El IDE de Arduino</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../03_ejemplo_semaforo/">3. Ejemplo.- Semáforo</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../04_pages_app.md">4. Pages app</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../05_message_board_app.md">5. Message Board app</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../06_blog_app.md">6. Blog app</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../07_formularios.md">7. Formularios</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../08_cuentas_de_usuarios.md">8. Cuentas de Usuarios</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../09_modelo_de_usuario_personalizado.md">9. Modelo de Usuario Personalizado</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../10_autenticacion_de_usuarios.md">10. Autenticación de Usuarios</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../11_bootstrap.md">11. Bootstrap</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../12_cambio_y_restauracion_de_contrasenas.md">12. Cambio y Restauración de Contraseñas</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../13_email.md">13. Email</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../14_newspaper_app.md">14. Newspaper app</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../15_permisos_y_autorizacion.md">15. Permisos y Autorización</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../16_comentarios.md">16. Comentarios</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../17_docker.md">17. Docker</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Arduino</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>04 salidas</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h2 id="pines-de-salida">Pines de salida</h2>
<p>Arduino utiliza sus pines de salida para enviar señales eléctricas. Éstas señales pueden utilizarse para alimentar otros dispositivos (led's, zumbadores...) o para comunicarse enviando una serie de pulsos que el receptor debe entender.</p>
<p>Las salidas se dividen en dos niveles o estados: HIGH a 5 V y LOW a 0 V. Por defecto, y sin ningún programa cargado en nuestra tarjeta controladora, las salidas están a nivel LOW. Para valores intermedios veremos los pines con función PWM en el punto 2.</p>
<p>Para valores constantes de 5V, 3.3V y 0V (GND) podemos utilizar los pines correspondientes del apartado “POWER” de nuestro Arduino.</p>
<p><img alt="Imagen 0 en Tutorial Arduino: Salidas" src="../img04/0e033beb9d846345961fea79a4543898.webp" /></p>
<h2 id="configuracion-y-uso-de-las-salidas-digitales">Configuración y uso de las salidas digitales</h2>
<p>Los pines que podemos configurar para que cambien el nivel de salida según nuestro programa son los digitales, es decir, los 1 a 13. En realidad existen otros pines digitales pero no serán tratados en este tutorial.</p>
<p><img alt="Imagen 1 en Tutorial Arduino: Salidas" src="../img04/68479cd9811e9c6b8ab5f8227dd26d4b.webp" /></p>
<p>Por defecto estos pines están configurados como entradas así que lo primero que tenemos que hacer para utilizar un pin como salida es configurarlo como tal. Para ello escribimos esta sentencia dentro del apartado <em>setup</em> del programa.</p>
<pre><code>pinMode(pin,OUTPUT);
</code></pre>
<p>Donde sustituiremos "pin" por el número del pin que queremos configurar como salida. También podemos almacenar el número de ese pin en una variable, por ejemplo el pin 10 en la variable llamada "pinsalida" y escribirla dentro de la función <em>pinMode</em> .</p>
<pre><code class="language-c++">int pinsalida = 10;                          // almacena el número 10 en la variable &quot;pinsalida&quot;

pinMode(pinsalida,OUTPUT);        // configura el pin número &quot;pinsalida&quot; (10) como salida
</code></pre>
<p>Ahora ya lo tenemos configurado como salida pero aún sigue a 0 V, es decir, a nivel LOW. Cuando en un determinado momento del programa queramos que ese pin se ponga a nivel HIGH escribiremos esta sentencia</p>
<pre><code class="language-c++">digitalWrite(pinsalida,HIGH);
</code></pre>
<p>Ahora tendremos 5 V permanentemente en ese pin a no ser que en el programa insertemos</p>
<pre><code class="language-c++">digitalWrite(pinsalida,LOW);
</code></pre>
<p>en cuyo caso se volverá al valor de 0 V. Podemos poner los pines a HIGH o LOW tantas veces como queramos.</p>
<p>IMPORTANTE : hay que tener en cuenta que estos pines tienen una <strong>intensidad limitada a 40 mA</strong> , por tanto no será suficiente para alimentar a algunos relés, motores, bombillas y todo aquello que necesite mayor corriente. En otros post veremos cómo solucionamos este "problema".</p>
<h2 id="pwm">PWM</h2>
<p>La función PWD nos permite obtener valores intermedios de salidas entre 0 y 5V escalados en en 255 niveles, siendo 0 el más bajo (0 V) y 255 el más alto (5 V).</p>
<p>Lo que en realidad sucede es que el microcontrolador alterna rapidísimamente estados HIGH y LOW un tiempo proporcional al valor requerido. Así, con 127 estaría el 50% del tiempo a HIGH y el otro 50% restante a LOW. Nosotros no lo notamos porque todo ello sucede a una frecuencia superior a la que captan nuestros ojos.</p>
<p>Los pines que permiten esta función están señalados con el símbolo ~ . En la placa Uno son los pines 3, 5, 6, 9, 10 y 11.</p>
<p>Si como vimos en en anterior apartado ya tenemos nuestro pin configurado como salida, para obtener un nivel de salida de 75% escribiremos en nuestro programa</p>
<pre><code class="language-c++">analogWrite(pinsalida,191);
</code></pre>
<p>Ya que 191 es el 75% de 255.</p>
<h2 id="ejemplo-funcion-pwm-con-led">Ejemplo función PWM con LED</h2>
<p>Este ejemplo consta de dos partes. Primero un led se encenderá durante dos segundos. Luego variará su intensidad entre los valores máximo y mínimo gradualmente. Para conseguirlo utilizaremos uno de los pines PWM.</p>
<p>El montaje es de lo más sencillo. Insertamos el led en la protoboard. Para no dañar el led ponemos en serie una resistencia de unos 220-470 Ohmios. Con valores menores se corre el riesgo de dañarlo y valores mayores atenúan demasiado el brillo.</p>
<p><img alt="Imagen 2 en Tutorial Arduino: Salidas" src="../img04/2184c3ec82b568b0d264050122bfa551.webp" /></p>
<p>Seguidamente unimos mediante cables el pin 10 con la fila del ánodo (pata larga) y el GND con la fila del extremo libre de la resistencia. Si el led tiene las patas iguales, una forma de distinguir el cátodo del ánodo es fijándose en el borde del led que no es completamente circular. Pues la parte biselada corresponde al cátodo.</p>
<p>Ahora vamos con el programa. En la primera parte declaramos las variables.</p>
<pre><code class="language-c++">int pinsalida = 10;            // variable para guardar el número del pin
int velocidad = 100;         // variable para cambiar la velocidad de encendido/apagado
int pwm;                         // variable que almacenará el valor entre 0 y 255
</code></pre>
<p>Cambiando el valor de la variable velocidad haremos que el led tarde más o menos tiempo en completar los ciclos de cambio de intensidad.</p>
<p>En la función <em>setup</em> hacemos que el led se encienda 2 segundos y luego se apague.</p>
<pre><code class="language-c++">void setup()
{
    pinMode(pinsalida,OUTPUT);        // configura &quot;pinsalida&quot; como salida
    digitalWrite(pinsalida,HIGH);     // pone el &quot;pinsalida&quot; a nivel alto
    delay(2000);                      // espera 2000 milisegundos (2 segundos)
    pinMode(pinsalida,LOW);           // pon &quot;pinsalida a nivel bajo
    delay(1000);                      // espera 1 segundo
}
</code></pre>
<p>En la función loop hacemos uso del PWM. Escribimos un bucle for que dará a la variable pwm un valor inicial de 0 y lo irá incrementando en una unidad hasta que alcance el valor máximo de 255. A continuación ponemos otro bucle for que irá decrementando el valor desde el máximo hasta el mínimo.</p>
<pre><code class="language-c++">void loop()
{ 
    for(pwm=0;pwm&lt;256;pwm++)        // desde pwm valiendo 0; hasta que valga 255; incrementa pwm
    {
        analogWrite(pinsalida,pwm);       // pone el &quot;pinsalida&quot; a el valor que almacena la variable &quot;pwm&quot;
        delay(1000/velocidad);                // espera (1000/velocidad) milisegundos
    }
    for(pwm=255;pwm&gt;-1;pwm--)        // este bucle hace lo mismo pero decrementando pwm
    {
        analogWrite(pinsalida,pwm);
        delay(1000/velocidad);
    }
}
</code></pre>
<p>El programa entero quedaría así.</p>
<pre><code class="language-c++">/***********************/
/*     ejemplo led pwm     */
/***********************/

int pinsalida = 10;            // variable para guardar el número del pin
int velocidad = 100;         // variable para cambiar la velocidad de encendido/apagado
int pwm;                         // variable que almacenará el valor entre 0 y 255

void setup()
{
    pinMode(pinsalida,OUTPUT);        // configura &quot;pinsalida&quot; como salida
    digitalWrite(pinsalida,HIGH);     // pone el &quot;pinsalida&quot; a nivel alto
    delay(2000);                      // espera 2000 milisegundos (2 segundos)
    pinMode(pinsalida,LOW);           // pon &quot;pinsalida a nivel bajo
    delay(1000);                      // espera 1 segundo
}

void loop()
{ 
    for(pwm=0;pwm&lt;256;pwm++)        // desde pwm valiendo 0; hasta que valga 255; incrementa pwm
    {
        analogWrite(pinsalida,pwm);       // pone el &quot;pinsalida&quot; a el valor que almacena la variable &quot;pwm&quot;
        delay(1000/velocidad);                // espera (1000/velocidad) milisegundos
    }
    for(pwm=255;pwm&gt;-1;pwm--)        // este bucle hace lo mismo pero decrementando pwm
    {
        analogWrite(pinsalida,pwm);
        delay(1000/velocidad);
    }
}
</code></pre>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
